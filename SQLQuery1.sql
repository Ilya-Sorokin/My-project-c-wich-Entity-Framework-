use HotelsDB;
go
--Таблицы:

-- 1 таблица "номера". Функция: хранить даные о гостиничных номерах
-- 2 таблица "персонал". Функция: хранить даные о персонале
-- 3 таблица "договор". Функция: хранить даные о оказывамых услугах клиентам 
-- 4 таблица "клиенты". Функция: хранить даные о клиентах


-----------------------------------------------------------------------------------------
--ТАБЛИЦЫ
-----------------------------------------------------------------------------------------


-- Клиенты -----------------------------------------------------------------------------------------------------------------------

 
/*CREATE TABLE Clients                 
(	                                  
	ID_Client int IDENTITY NOT NULL Primary Key,
	FirstName nvarchar(50) NOT NULL,
	Surname nvarchar(50) NOT NULL, 
	BirthDate date NULL,
	Telephone nvarchar(50) NULL, --CHECK (Телефон LIKE '([0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9])' ) not null	
);
GO


-- Номера -----------------------------------------------------------------------------------------------------------------------

CREATE TABLE Free_Rooms                
(	-- Ключевое слово IDENTITY создает столбец идентификации.(seed = 1, step = 2)                                      
	
	ID_Room int IDENTITY NOT NULL Primary Key,
	Room_Type nvarchar(50) NOT NULL,
	Cost int NOT NULL ,	
);
GO

CREATE TABLE Rooms                 
(	-- Ключевое слово IDENTITY создает столбец идентификации.(seed = 1, step = 2)                                      	
	ID_Room int  NOT NULL
		Foreign Key References Free_Rooms ( ID_Room),
	Room_Type nvarchar(50) NOT NULL,
	ID_Client int  NOT NULL
		Foreign Key References Clients (ID_Client),
	Date_Arrive date NOT NULL,
	Date_Departure date NOT NULL,
	Cost_Per_Day int NOT NULL ,
	--Primary Key (id_номера, id_клиента),
);
GO

--персонал ---------------------------------------------------------------------------------------------------------------------


CREATE TABLE Staff                 
(	                                   
	ID_Staff int IDENTITY Primary Key Not null,
	Full_Name nvarchar(50) NOT NULL,
	Position nvarchar(50) NOT NULL,
	Salary int NOT NULL, --Primary Key
	Telephone nvarchar(50) not null, --CHECK (Телефон LIKE '([0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9] [0-9])' )
	  
);                      
GO

--Услуги ---------------------------------------------------------------------------------------------------------------------

CREATE TABLE Service_
(
	ID_Service int IDENTITY NOT NULL
	Primary Key,

	Name_of_service nvarchar(50) NOT NULL,
	Cost int NOT NULL, 
	--id_работника int 
	--oreign Key References персонал (id_работника) NOT NULL,    
);

CREATE TABLE Service_Clients
(
	ID_Client int
		Foreign Key References Clients (ID_Client) NOT NULL,
	
	  ID_Service int NOT NULL
		Foreign Key References Service_ (ID_Service), 
);

CREATE TABLE Service_Staff
(
	ID_Service int NOT NULL
		Foreign Key References Service_ (ID_service),   
	
	ID_Staff int 
		Foreign Key References Staff (ID_Staff) NOT NULL,    
);



--Договор ---------------------------------------------------------------------------------------------------------------------

CREATE TABLE Contract_                 
(	                                   
	ID_Contract int IDENTITY Primary Key NOT NULL,
	ID_Client int UNIQUE NOT NULL
		Foreign Key References Clients (ID_Client),  

	Type_of_contact nvarchar(50) DEFAULT 'Стандарт' NULL,
	Cost int NULL,
	
);
GO*/
--Заполнение таблиц данными ---------------------------------------------------------------------------------------------------------------------



INSERT INTO Clients
( FirstName, Surname, BirthDate, Telephone)
VALUES
--President
('Tobey', 'Maguire', '27.05.1991', '121451781'), --1
-- Honeymoon Room 1
( 'Mary', 'Jane', '21.07.1994', '222452781'), -- 2
( 'Jonah', 'Jameson', '22.07.1993', '222452781'), -- 3
 -- Honeymoon Room 2
( 'Jim', 'Gordon', '21.03.1995', '323453781'), --4
( 'Deborah', 'Wakeham', '27.09.1991', '323453781'), --5 
--family 3
( 'Lucius', 'Fox', '23.07.1970', '424454781'), --6
( 'Maria', 'Fox', '26.03.1971', '424454781'), --7
( ' Maria', 'Fox', '21.07.2004', '424454781'), --8
--family 1
( 'Pepper', 'Carter', '23.06.1983', '525455781'), --9
( 'Phillip', 'Carter', '23.07.1980', '525455781'), --10
( 'Sharon', 'Carter', '25.03.2005', '525455781'), --11
--busines 1 
( 'Edwin', 'Jarvis', '28.09.1990', '626456781'), --12
--Standard
( 'David', 'Holcomb', '24.03.2000', '727457781'), --13
--Standard
( 'Deborah', 'Wakeham', '25.01.2001', '828458781'), --14
--busines 2
( 'Lisa', 'Danielle', '24.02.1999', '929459781'), --15
--family 2
( 'Elizabeth', 'Banks', '25.08.1970', '020450781'), --16
( 'John', 'Banks', '26.04.1970', '020450781'), --17
( 'CLARK', 'Banks', '22.06.2001', '020450781'), --18
--Standard
( 'Bruce', 'Campbell', '24.07.1980', '123151381'), --19
--Luxe 
( 'Taylor', 'Gilbert', '29.01.1960', '133256481'), --20
--Luxe 
( 'Kristen', 'Davidson', '28.04.1991', '143356581');--21



INSERT INTO Free_Rooms
( Room_Type, Cost)
VALUES
( 'Standard  ', 3000),
( 'Family', 2000),
( 'Family', 2000),
( 'Family', 2000),
( 'Honeymoon Room', 3500),
( 'Honeymoon Room ' , 3500),
( 'Luxe', 5000),
( 'Luxe', 5000),
( 'President', 9000),
( 'Business', 5000),
( 'Business', 5000),
( 'Standard  ', 3000),
( 'Standard  ', 3000);



INSERT INTO Rooms
( ID_Room, Room_Type, ID_Client, Date_Arrive, Date_Departure, Cost_Per_Day)
VALUES
( 1, 'Standard  ', 13, '07.05.2018', '14.07.2018', 3000),
( 1, 'Standard  ', 14, '07.05.2018', '14.07.2018', 3000),
( 1, 'Standard  ', 19, '07.05.2018', '14.07.2018', 3000),

( 2,'Family ', 6, '09.05.2018', '18.07.2018', 2000),
( 2, 'Family ', 7, '09.05.2018', '18.07.2018', 2000),
( 2, 'Family ', 8, '09.05.2018', '18.07.2018', 2000),

( 3, 'Family ', 9, '08.05.2018', '22.07.2018', 2000),
(3,  'Family ', 10, '08.05.2018', '22.07.2018', 2000),
(3,  'Family ', 11, '08.05.2018', '22.07.2018', 2000),

(4,  'Family ', 16, '10.05.2018', '20.07.2018', 2000),
(4,  'Family ', 17, '10.05.2018', '20.07.2018', 2000),
(4,  'Family ', 18, '10.05.2018', '20.07.2018', 2000),

( 5, 'Honeymoon Room ', 2, '11.05.2018', '27.07.2018', 3500),
( 5, 'Honeymoon Room ', 3, '11.05.2018', '27.07.2018', 3500),

(6,  'Honeymoon Room ', 4, '14.05.2018', '20.07.2018', 3500),
( 6, 'Honeymoon Room ', 5, '14.05.2018', '20.07.2018', 3500),

( 7, 'Luxe  ', 20, '10.05.2018', '21.07.2018', 5000),
(8,  'Luxe ', 21, '17.05.2018', '19.07.2018', 5000),

( 9, 'President  ', 1, '20.08.2018', '30.07.2018', 9000),
 
( 10, 'Business ', 12, '19.05.2018', '25.07.2018', 5000),
( 11, 'Business ', 15, '18.05.2018', '20.07.2018', 5000);


INSERT INTO Staff
( Full_Name, Position, Salary, Telephone)
VALUES

('Стэн Ли', 'Администратор отеля', 150000, '123656777'), --1
('Николас Фьюри', 'Глава охраны безопаасности', 95000, '123416777'), --2
('Моргана ле Фэй', 'отельер', 120000, '123556777'), --3
('Стивен Стрэндж', 'Организатор мероприятий', 100000, '123436777'), -- 4 +
('Джек Воробей', 'PR - менеджер', 60000, '123446777'), -- 5
('Норман Озборн', 'бухгалтер', 60000, '123756897'), -- 6
('Кларис Блинк', 'Travel clerk', 45000, '123856936'), --7
('Тони Старк', 'техник', 90000, '123476777'), --8 
('Брюс Бэннер', 'охраник', 35000, '123456777'), --9
('Барри Аллен', 'консьерж', 150000, '123486777'), --10
('люк кейдж', 'носильщик', 40000, '123496777'), --11
('Харли Квин', 'няня', 40000, '123406777'), --12 +
('Джина Грей', 'горничная', 40000, '123156777'), --13 
('Александр Бойко', 'портье', 50000, '123256777'), --14
('Кейн Марко', 'Щвейцар', 30000, '123356777'), --15
('Альберт Десмонд', 'бармен', 47000, '123956897'), --16 +
('Хелен Парр', 'Масажист', 47000, '123057897'), --17 +
('Natasha Romanoff', 'Масажист', 47000, '123057890'); --18 +



INSERT INTO Service_
( Name_of_Service, Cost)
VALUES
( 'китайский масаж', 900), --1
( 'французкий масаж', 700), --2
( 'очищающий масаж', 1100), --3
( 'какосовый масаж', 500), --4
( 'пируанский масаж', 1700), --5
( 'шести рук масаж', 2000), --6

( 'спа', 1000), --7
( 'солярий', 700), --8
( 'ароматерапии', 800), --9

( 'экскурсия по городу', 900), --10
( 'экскурсия по джунглям', 1500), --11
( 'экскурсия по заповеднику', 1000), --12
( 'экскурсия ночная', 2000), --13
( 'экскурсия к вулкану', 1200), --14
( 'экскурсия по замкам', 1000), --15
( 'поездка в клуб', 500), --16
( 'поездка в казино', 500), --17

( 'заказ еды в номер', 300), --18
('заказ 1-10 кг в номер', 500), --19
( 'заказ 10-50кг в номер', 1500), --20

( 'няня в номер', 300), --21
( 'косметолог в номер', 1000), --22

( 'аксесуар футболка', 300), --23

( 'шампанское', 500), --24
( 'вино', 700), --25
( 'легкое спиртное', 200), --26
( 'сомбреро', 1000), --27
( 'ликер', 700), --28
( 'Контрацептив', 100), --29
( 'сникерс', 50), --30
( 'баунти батончик', 40), --31
( 'киндер-сюрприз', 70), --32
( 'марс', 45), --33
( 'сок какосовый', 60), --34
( 'сок ананасовый', 70), --35
('сок лимонный', 50), --36
( 'сок баунти', 80), --37
( 'сок шоколадный', 70), --38
( 'кока-кола', 50); --39



INSERT INTO Service_Clients
(ID_Client, ID_Service)
VALUES 
(13, 16),
(14, 17),
(19, 15),
(13, 2),
(14, 8),
(19, 1),


(6, 11),
(7, 15),
(8, 21),
(6, 10),
(7, 34),
(8, 17),
(6, 39),
(7, 25),
(8, 29),

(9, 11),
(10, 15),
(11, 34),
(9, 39),
(10, 29),
(11, 25),

(16, 39),
(17, 29),
(18, 10),
(16, 11),
(17, 15),
(18, 25),



(2, 2),
(3, 2),

(1, 2),
(1, 3),
(1, 4),
(1, 5);


INSERT INTO Service_Staff
(ID_Service, ID_Staff)
VALUES 

(1, 5),
(2, 3),
(10, 4),
(11, 4),
(12, 4),
(13, 4),
(14, 4),
(15, 4),
(24, 16),
(25, 16),
(26, 16),
(27, 16),
(28, 16),
(1, 17),
(2, 17),
(3, 17),
(4, 17),
(5, 18),
(6, 18),
(21, 12);



INSERT INTO Contract_
( ID_Client, Type_of_contact, Cost)
VALUES
( 20, 'Лакшери', 12000),
( 21, 'Лакшери', 12000),

( 13, 'Стандарт', 7000),
( 14, 'Стандарт', 7000),
( 19, 'Стандарт', 7000),

( 12, 'Бизнесс', 12000),
( 15, 'Бизнесс', 12000),

( 6, 'Семейный', 7000),
( 7, 'Семейный', 7000),
( 8, 'Семейный', 7000),

( 9, 'Семейный', 7000),
( 10, 'Семейный', 7000),
( 11, 'Семейный', 7000),

( 16, 'Семейный', 7000),
( 17, 'Семейный', 7000),
( 18, 'Семейный', 7000),

( 2, 'Полночь', 9000),
( 3, 'Полночь', 9000),

( 4, 'Полночь', 9000),
( 5, 'Полночь', 9000),

( 1, 'Все включено', 18000);